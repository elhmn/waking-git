# shoot 'em up (shump) converter

This document layout the design of our basic shoot 'em up converter

## Inspiration

To demonstrate how `waking-git` can be used to give life to worlds full of life,
we decided to build a basic `shmup` that will heavily draw inspiration from
[Near Automata](https://www.youtube.com/watch?v=wJxNhJ8fjFk)'s [shmup phases](https://www.youtube.com/watch?v=jT2jOeFo5HQ).

`Near Automata` `shump` phases have a minimalistic design that can be easily used to create
a prototype of what a `shump` built using git repository data would look like.

## Convertion

This `shmup` converter will get json data from the `extractor` and translate them
into a set of data that can be exploitated to generate a 2D/3D playable game.
It uses the `git` and `code` structure extracted from your repository to generate a list of `scenes`
that will each contain a list of `entities`.

Here is an example of data generated by the converter:

<details>
<summary><b>Shmup converter output</b></summary>

```json
{
  "<scene_id>": {
    "id": "<scene_id>",
    "sub_scenes": ["sub_scene_1_id", "sub_scene_2_id"],
    "entities": {
      "entity_id": {
        "id": "entity_id",
        "scene_id": "scene_id",
        "name": "readme.md",
        "type": "circle", //more visual than anything else
        "movement_pattern": "pattern_1",
        "color": "#B9D9FF",
        "weapon": "weapon_type_1",
        "speed": 0.2, // from 0 to 1
        "hp": 0.1, // from 0 to 1
        "shield": "none",
        "size": 0.2, // from 0 to 1,
        "destructible": true // is the entity destructible
      },
      "entity_id_2": {
        "id": "entity_id_2",
        "scene_id": "scene_id",
        "name": "src/main.rs",
        "type": "square",
        "movement_pattern": "pattern_1",
        "color": "#34EB6B",
        "weapon": "weapon_type_2",
        "speed": 0.4, // from 0 to 1
        "hp": 0.4, // from 0 to 1
        "shield": "none",
        "destructible": true // is the entity destructible
      }
    }
  }
}
```

</details>

### converter objects

**Scene object:**
| key | type | default | example| description |
| :------------: | :----------: | :--------: | :--------: | ---------------------------------------------- |
| `id` | `string` | - | - | the scene id is mapped to a git tree object id |
| `sub_scenes` | `Array<string>` | - | - | the list of git sub tree ids |
| `entities` | `Array<Entitiy>` | - | - | List of `Entities` |

**Entity object:**
| key | type | default | example | description |
| :------------: | :----------: | :----: | :--------: | ---------------------------------------------- |
| `id` | `string` | - | `"<object_id>"` | the entity id is mapped to a git blob object id |
| `scene_id` | `string` | - | `"<tree_id>"`| the scene the object belongs to |
| `name` | `string` | - | `"src/readme.md"` | the object name, can be the blob file name |
| `type` | `string` | - | `"circle"` | the entity type is used to know how to display the object |
| `color` | `string` | - | `"red"` | the color is another visual information, mapped to the language's color |
| `weapon` | `string` | - | `"weapon_t1"` | type of weapon |
| `movement_pattern` | `string` | - | `"mvmt_1"` | the movement pattern followed by the entity |
| `speed` | `float` | - | `0.1` | the object speed can be extracted from blob size, value between 0 and 1 |
| `hp` | `float` | - | `0.2` | the entity hp, value between 0 and 1 |
| `size` | `float` | - | `0.2` | the entity size, value between 0 and 1 |
| `shield` | `string` | - | `"full" \| "half-guard"` | wether or not the entity has a shield |
| `destructible` | `bool` | - | `true` | wether or not the entity can be destroyed |
